# TresMigo CRM

A modern, full-stack Customer Relationship Management system built with Next.js 14, TypeScript, and PostgreSQL.

## Features

- **User Authentication** - Secure login with NextAuth.js
- **Customer Management** - Full CRUD operations for customer data
- **Lead Management** - Track and manage sales leads through the pipeline
- **Task Management** - Organize and prioritize tasks
- **Dashboard** - Overview of key metrics and recent activities
- **Responsive Design** - Works seamlessly on desktop and mobile devices

## Tech Stack

### Frontend
- Next.js 14 (App Router)
- TypeScript
- Tailwind CSS
- Shadcn/ui Components
- Lucide React Icons

### Backend
- Next.js API Routes
- Prisma ORM
- PostgreSQL Database
- NextAuth.js Authentication

## Getting Started

### Prerequisites

- Node.js 18+ installed
- PostgreSQL database (local or cloud)
- npm or yarn package manager

### Installation

1. Clone the repository:
```bash
git clone <repository-url>
cd TresMigo
```

2. Install dependencies:
```bash
npm install
```

3. Set up environment variables:
```bash
cp .env.example .env
```

Edit `.env` with your database credentials and secrets:
```env
DATABASE_URL="postgresql://user:password@localhost:5432/tresmigo"
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-super-secret-key-change-this-in-production"
NODE_ENV="development"
```

4. Generate Prisma client:
```bash
npx prisma generate
```

5. Run database migrations:
```bash
npx prisma migrate dev
```

6. Seed the database:
```bash
npx prisma db seed
```

7. Start the development server:
```bash
npm run dev
```

8. Open [http://localhost:3000](http://localhost:3000) in your browser.

### Default Login Credentials

After seeding the database, use these credentials to log in:

- **Email:** demo@tresmigo.com
- **Password:** demo123

## Project Structure

```
TresMigo/
├── app/                    # Next.js app directory
│   ├── api/               # API routes
│   │   ├── auth/         # NextAuth endpoints
│   │   ├── customers/    # Customer CRUD API
│   │   ├── leads/        # Lead CRUD API
│   │   └── tasks/        # Task CRUD API
│   ├── customers/        # Customer management page
│   ├── dashboard/        # Main dashboard
│   ├── leads/           # Lead management page
│   ├── login/           # Login page
│   ├── tasks/           # Task management page
│   └── layout.tsx       # Root layout
├── components/          # React components
│   ├── ui/             # Shadcn UI components
│   └── providers.tsx   # Session provider
├── lib/                # Utility functions
│   ├── auth.ts        # NextAuth configuration
│   ├── db.ts          # Prisma client
│   └── utils.ts       # Helper functions
├── prisma/            # Database schema and migrations
│   ├── schema.prisma  # Database schema
│   └── seed.ts        # Seed script
└── types/             # TypeScript type definitions
```

## Database Management

### Prisma Studio
Open Prisma Studio to view and edit your database:
```bash
npx prisma studio
```

### Reset Database
To reset the database and reseed:
```bash
npx prisma migrate reset
```

### Create Migration
After changing the schema:
```bash
npx prisma migrate dev --name your_migration_name
```

## Deployment

### Railway Deployment

1. Push your code to GitHub
2. Create a new project on [Railway](https://railway.app)
3. Add a PostgreSQL database to your project
4. Connect your GitHub repository
5. Set environment variables in Railway:
   - `DATABASE_URL` (auto-generated by Railway)
   - `NEXTAUTH_URL` (your production URL)
   - `NEXTAUTH_SECRET` (generate a secure secret)
   - `NODE_ENV=production`
6. Railway will automatically deploy your application

The project includes:
- `Procfile` - Defines the web process
- `railway.json` - Railway build configuration
- Automatic migrations on build

## Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run start` - Start production server
- `npm run lint` - Run ESLint
- `npx prisma studio` - Open Prisma Studio
- `npx prisma migrate dev` - Run migrations

## Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is licensed under the MIT License.

## Support

For issues or questions, please open an issue in the GitHub repository.